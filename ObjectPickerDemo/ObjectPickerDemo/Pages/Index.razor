@page "/"

<h3>Select People</h3>
<div style="background-color:lightgray;padding:10px;">
    <ObjectPicker AllItems="AllPeople"
                  ItemTypePlural="People"
                  SelectedItems="SelectedPeople"
                  TextPropertyName="Name"
                  ValuePropertyName="Id"
                  TItem="Person"
                  ComponentUpdated="ObjectPicker_Updated" />
</div>
<span>@DisplayMessage</span>

@code
{

    List<Person> AllPeople;
    List<Person> SelectedPeople = new List<Person>();
    string DisplayMessage { get; set; } = "Selected: 0";

    public void ObjectPicker_Updated()
    {
        DisplayMessage = $"Selected: {SelectedPeople.Count}";
    }

    protected override void OnInitialized()
    {
        AllPeople = new List<Person>();
        AllPeople.Add(new Person { Id = 1, Name = "Isadora Jarr" });
        AllPeople.Add(new Person { Id = 2, Name = "Mike Easter" });
        AllPeople.Add(new Person { Id = 3, Name = "Ben Drinkin" });
        AllPeople.Add(new Person { Id = 4, Name = "Pikop Andropov" });
        SelectedPeople.Add(AllPeople[0]);
    }

    public class Person
    {
        public int Id { get; set; }
        public string Name { get; set; }
    }
}
